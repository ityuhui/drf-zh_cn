# 主导资源公平性（Dominant Resource Fairness）：多种资源类型的公平分配

作者：Ali Ghodsi, Matei Zaharia, Benjamin Hindman, Andy Konwinski, Scott Shenker, Ion Stoica

加州大学伯克利

## 摘要

在一个包含了不同资源类型的系统里，每一个用户对每一种资源都有不同的需求。为了能够在这样一个系统里公平的分配资源，我们提出了主导资源公平性 Dominant Resource Fairness（DRF）算法，一个对多种资源类型的“最大-最小公平”的概括方法。与其他的方法不同，DRF有着非常可取的特性。

首先，DRF通过确保在资源不足的情况下没有用户从中受益，从而激励用户共享资源，将资源在它们之间平均分配。

其次，DRF可以保证, 用户无法通过撒谎来获得更多的资源。

再次，DRF分配资源后，用户不羡慕彼此，即没有用户想要和其他用户交易其分配到的资源。

最后，DRF是Pareto高效的，即在不降低一个用户分配的资源时，不可能提高另一个用户分配的资源。

我们已经在Mesos集群的资源管理器里实现了DRF算法，结果显示，与一些最新的资源调度器里提供的、基于slot的公平分享算法相比，DRF可以带来更好的吞吐量和更公平的分配。

## 介绍

分配资源是任何共享计算机系统的重要功能。迄今为止，“最大-最小公平”是最流行的分配策略之一，该策略最大化了一个用户在系统里收到的最小分配。假设每一个用户都有足够的需求，则该策略为每一个用户平均分配这些资源。“最大-最小公平”还包含了“权”的概念，每一个用户收到的资源份额与其权重成正比。

加权的“最大-最小公平”算法的吸引力在于，它很通用，可以支持多种其他的资源分配算法，如基于优先级、资源预留、以及截止日期 [31]。它还确保隔离性，即不管其他用户的需求如何，一个用户一定会收到它的份额。

因为有了上述优点，大量的基于加权“最大-最小公平”算法被提出来，如轮询、按比例共享资源【32】、加权公平排队【12】，这些算法可以被应用于各种资源的分配，包括链路宽带【8，12，15，24，27，29】，CPU【11，28，31】，内存【4，31】以及存储器【5】。

虽然已经有了大量的公平分配算法，但是迄今为止，它们主要关注于单个资源类型的分配。即使在多资源环境下（用户需要不同种类的资源），也总是将其抽象成单个资源来分配。例如，两种广泛使用的集群计算框架：Hadoop和Dryad【1，18，34】，使用的公平调度器，将节点的资源分成固定大小的分区（称之为slot），将其作为调度单元。尽管事实上，集群里的不同任务对CPU、内存和I/O资源的需求非常不同。

在本文中，我们解决了用户对多种类型资源的不同需求的公平分配问题。特别是，我们提出了主导资源公平性（DRF）算法，即对多种资源的“最大-最小公平性”的概况。DRF的直觉是，在多资源环境中，用户得到的资源应由该用户的主导资源的份额来确定。

状态-->正在翻译